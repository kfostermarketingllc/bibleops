<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - BibleOps Premium</title>
    <link rel="stylesheet" href="/premium/css/premium-styles.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Navigation -->
        <nav class="dashboard-nav">
            <div class="nav-brand">
                <svg width="40" height="40" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg">
                    <rect x="16" y="12" width="28" height="36" rx="2" fill="#1a2332" stroke="#1a2332" stroke-width="2"/>
                    <rect x="19" y="15" width="22" height="30" rx="1" fill="#ffffff"/>
                    <line x1="23" y1="22" x2="37" y2="22" stroke="#1a2332" stroke-width="1.5"/>
                    <line x1="23" y1="27" x2="37" y2="27" stroke="#1a2332" stroke-width="1.5"/>
                    <line x1="23" y1="32" x2="34" y2="32" stroke="#1a2332" stroke-width="1.5"/>
                    <rect x="29" y="12" width="2" height="8" fill="#2c5282"/>
                </svg>
                <span>BibleOps <span class="premium-badge-small">Premium</span></span>
            </div>
            <div class="nav-user">
                <span id="userEmail">Loading...</span>
                <button id="logoutBtn" class="btn-secondary btn-small">Log Out</button>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="dashboard-content">
            <!-- Usage Stats -->
            <section class="usage-stats">
                <h2>Your Usage This Month</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-info">
                            <div class="stat-value" id="usageCount">-</div>
                            <div class="stat-label">of 4 included</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üîÑ</div>
                        <div class="stat-info">
                            <div class="stat-value" id="daysRemaining">-</div>
                            <div class="stat-label">days until reset</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-info">
                            <div class="stat-value" id="overageCount">-</div>
                            <div class="stat-label">overage charges</div>
                        </div>
                    </div>
                    <div class="stat-card status-card">
                        <div class="stat-icon">‚úì</div>
                        <div class="stat-info">
                            <div class="stat-value" id="subscriptionStatus">Active</div>
                            <div class="stat-label">subscription status</div>
                        </div>
                    </div>
                </div>

                <!-- Upgrade Banner (shown for free users or when limit reached) -->
                <div id="upgradeBanner" class="upgrade-banner" style="display: none;">
                    <div class="upgrade-content">
                        <div class="upgrade-icon">‚ö°</div>
                        <div class="upgrade-text">
                            <h3 id="upgradeBannerTitle">Upgrade to Premium</h3>
                            <p id="upgradeBannerMessage">Get more curriculum generations and unlock all features.</p>
                        </div>
                        <button id="upgradeBannerBtn" class="btn-primary">Upgrade Now</button>
                    </div>
                </div>
            </section>

            <!-- Overage Confirmation Modal -->
            <div id="overageModal" class="modal" style="display: none;">
                <div class="modal-backdrop"></div>
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>Additional Generation</h3>
                        <button class="modal-close" id="closeOverageModal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="overage-info">
                            <div class="overage-icon">üìö</div>
                            <p>You've used all <strong>4 included</strong> curriculum generations this month.</p>
                            <p>Additional generations are available for <strong>$4.99 each</strong>.</p>
                        </div>
                        <div class="overage-details">
                            <div class="overage-line">
                                <span>Additional Curriculum</span>
                                <span>$4.99</span>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn-secondary" id="cancelOverageBtn">Cancel</button>
                        <button class="btn-primary" id="confirmOverageBtn">Confirm & Generate</button>
                    </div>
                </div>
            </div>

            <!-- Generate New Curriculum -->
            <section class="generate-section">
                <h2>Generate New Curriculum</h2>
                <div class="generate-card">
                    <form id="generateForm" class="curriculum-form">
                        <!-- Section 1: Study Focus -->
                        <div class="form-section">
                            <div class="section-title">
                                <span class="section-icon">üìö</span>
                                <h3>Study Focus</h3>
                            </div>
                            <p class="section-description">Choose your Scripture passage or biblical theme</p>

                            <div class="form-group">
                                <label class="radio-label">
                                    <input type="radio" name="studyFocus" value="passage" checked>
                                    <span class="radio-content">
                                        <strong>Specific Passage</strong>
                                        <small>Book, chapter, or verses</small>
                                    </span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="studyFocus" value="theme">
                                    <span class="radio-content">
                                        <strong>Biblical Theme</strong>
                                        <small>Topic or theological concept</small>
                                    </span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="studyFocus" value="book">
                                    <span class="radio-content">
                                        <strong>Book Study</strong>
                                        <small>Integrate a book with Scripture</small>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <!-- Passage Input -->
                        <div id="passageInput" class="form-group">
                            <label for="passage">Bible Passage *</label>
                            <input
                                type="text"
                                id="passage"
                                name="passage"
                                placeholder="e.g., Romans 8:1-17, Psalm 23, John 3, Ephesians"
                                required
                            >
                            <small>Enter any book, chapter, or specific verse range</small>
                        </div>

                        <!-- Theme Input -->
                        <div id="themeInput" class="form-group" style="display: none;">
                            <label for="theme">Biblical Theme *</label>
                            <input
                                type="text"
                                id="theme"
                                name="theme"
                                placeholder="e.g., Grace, Faith, Prayer, God's Character, Discipleship"
                            >
                            <small>Enter the central theme or topic for this study</small>
                        </div>

                        <!-- Book Input -->
                        <div id="bookInput" class="form-group" style="display: none;">
                            <div class="form-group">
                                <label for="bookTitle">Book Title *</label>
                                <input
                                    type="text"
                                    id="bookTitle"
                                    name="bookTitle"
                                    placeholder="e.g., The Screwtape Letters, Mere Christianity, The Hiding Place"
                                >
                                <small>Enter the full title of the book</small>
                            </div>

                            <div class="form-group">
                                <label for="bookAuthor">Author *</label>
                                <input
                                    type="text"
                                    id="bookAuthor"
                                    name="bookAuthor"
                                    placeholder="e.g., C.S. Lewis, Corrie ten Boom"
                                >
                                <small>Enter the author's name</small>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="bookISBN">ISBN (Optional)</label>
                                    <input
                                        type="text"
                                        id="bookISBN"
                                        name="bookISBN"
                                        placeholder="e.g., 0060652926"
                                    >
                                    <small>10-digit ISBN if available</small>
                                </div>

                                <div class="form-group">
                                    <label for="bookISBN13">ISBN-13 (Optional)</label>
                                    <input
                                        type="text"
                                        id="bookISBN13"
                                        name="bookISBN13"
                                        placeholder="e.g., 978-0060652920"
                                    >
                                    <small>13-digit ISBN if available</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="bookPassage">Related Scripture Passage (Optional)</label>
                                <input
                                    type="text"
                                    id="bookPassage"
                                    name="bookPassage"
                                    placeholder="e.g., Ephesians 6:10-18, 1 Peter 5:8-9"
                                >
                                <small>Optional: Bible passage(s) that relate to the book's themes</small>
                            </div>
                        </div>

                        <!-- Section 2: Study Settings -->
                        <div class="form-section">
                            <div class="section-title">
                                <span class="section-icon">‚öôÔ∏è</span>
                                <h3>Study Settings</h3>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="denomination">Denomination *</label>
                                    <select id="denomination" name="denomination" required>
                                        <option value="">Choose Your Denomination</option>
                                        <optgroup label="Catholic & Orthodox">
                                            <option value="Roman Catholic">Roman Catholic</option>
                                            <option value="Eastern Orthodox">Eastern Orthodox</option>
                                            <option value="Oriental Orthodox">Oriental Orthodox</option>
                                        </optgroup>
                                        <optgroup label="Protestant - Reformed">
                                            <option value="Lutheran">Lutheran (ELCA, LCMS)</option>
                                            <option value="Presbyterian">Presbyterian (PCUSA, PCA)</option>
                                            <option value="Reformed">Reformed</option>
                                            <option value="Anglican">Anglican/Episcopal</option>
                                        </optgroup>
                                        <optgroup label="Protestant - Evangelical">
                                            <option value="Baptist">Baptist (SBC, ABC, Independent)</option>
                                            <option value="Methodist">Methodist (UMC)</option>
                                            <option value="Pentecostal">Pentecostal</option>
                                            <option value="Assemblies of God">Assemblies of God</option>
                                            <option value="Non-denominational">Non-denominational</option>
                                        </optgroup>
                                        <optgroup label="Other Traditions">
                                            <option value="Church of Christ">Church of Christ</option>
                                            <option value="Seventh-day Adventist">Seventh-day Adventist</option>
                                            <option value="Calvary Chapel">Calvary Chapel</option>
                                            <option value="Vineyard">Vineyard</option>
                                            <option value="Other">Other</option>
                                        </optgroup>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="bibleVersion">Bible Translation *</label>
                                    <select id="bibleVersion" name="bibleVersion" required>
                                        <option value="">Choose Translation</option>
                                        <optgroup label="‚≠ê Most Popular">
                                            <option value="NIV">NIV - New International Version</option>
                                            <option value="ESV">ESV - English Standard Version</option>
                                            <option value="NKJV">NKJV - New King James Version</option>
                                            <option value="NLT">NLT - New Living Translation</option>
                                        </optgroup>
                                        <optgroup label="Word-for-Word">
                                            <option value="KJV">KJV - King James Version</option>
                                            <option value="NASB">NASB - New American Standard</option>
                                            <option value="RSV">RSV - Revised Standard Version</option>
                                        </optgroup>
                                        <optgroup label="Thought-for-Thought">
                                            <option value="CSB">CSB - Christian Standard Bible</option>
                                            <option value="GNT">GNT - Good News Translation</option>
                                            <option value="CEV">CEV - Contemporary English</option>
                                            <option value="NRSV">NRSV - New Revised Standard</option>
                                        </optgroup>
                                        <optgroup label="Paraphrase">
                                            <option value="The Message">The Message</option>
                                            <option value="TLB">TLB - The Living Bible</option>
                                        </optgroup>
                                        <optgroup label="Catholic/Orthodox">
                                            <option value="NAB">NAB - New American Bible</option>
                                            <option value="NABRE">NABRE - NAB Revised</option>
                                            <option value="OSB">OSB - Orthodox Study Bible</option>
                                        </optgroup>
                                    </select>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="ageGroup">Target Audience *</label>
                                    <select id="ageGroup" name="ageGroup" required>
                                        <option value="">Select Age Group</option>
                                        <option value="Children (Ages 6-11)">Children (Ages 6-11)</option>
                                        <option value="Middle School (Ages 12-14)">Middle School (Ages 12-14)</option>
                                        <option value="High School (Ages 15-18)">High School (Ages 15-18)</option>
                                        <option value="College/Young Adults (Ages 18-25)">College/Young Adults (Ages 18-25)</option>
                                        <option value="Adults (Ages 26-60)">Adults (Ages 26-60)</option>
                                        <option value="Seniors (Ages 60+)">Seniors (Ages 60+)</option>
                                        <option value="Mixed Ages">Mixed Ages (All Adults)</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="duration">Study Duration</label>
                                    <select id="duration" name="duration">
                                        <option value="2 weeks">2 Weeks</option>
                                        <option value="4 weeks">4 Weeks</option>
                                        <option value="6 weeks">6 Weeks</option>
                                        <option value="8 weeks" selected>8 Weeks</option>
                                        <option value="12 weeks">12 Weeks (Quarter)</option>
                                        <option value="16 weeks">16 Weeks (Semester)</option>
                                        <option value="24 weeks">24 Weeks (6 Months)</option>
                                        <option value="40 weeks">40 Weeks (School Year)</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Section 3: Optional Components -->
                        <div class="form-section">
                            <div class="section-title">
                                <span class="section-icon">üì¶</span>
                                <h3>Optional Study Components</h3>
                            </div>
                            <p class="section-description">Select additional resources to include in your curriculum (each adds processing time)</p>

                            <div class="checkbox-grid">
                                <label class="checkbox-label" id="bookResearchCheckboxLabel" style="display: none;">
                                    <input type="checkbox" name="selectedOutputs" value="bookResearch">
                                    <span class="checkbox-content">
                                        <span class="checkbox-icon">üìñ</span>
                                        <span class="checkbox-text">
                                            <strong>Book Research & Analysis</strong>
                                            <small>In-depth analysis of your selected book with biblical connections</small>
                                        </span>
                                    </span>
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" name="selectedOutputs" value="foundation">
                                    <span class="checkbox-content">
                                        <span class="checkbox-icon">üìö</span>
                                        <span class="checkbox-text">
                                            <strong>Foundational Framework</strong>
                                            <small>Pedagogical and hermeneutical framework for the study</small>
                                        </span>
                                    </span>
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" name="selectedOutputs" value="theology">
                                    <span class="checkbox-content">
                                        <span class="checkbox-icon">‚úùÔ∏è</span>
                                        <span class="checkbox-text">
                                            <strong>Denominational Theology</strong>
                                            <small>Theological framework based on your denomination</small>
                                        </span>
                                    </span>
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" name="selectedOutputs" value="biblicalContext">
                                    <span class="checkbox-content">
                                        <span class="checkbox-icon">üèõÔ∏è</span>
                                        <span class="checkbox-text">
                                            <strong>Biblical Context</strong>
                                            <small>Historical, cultural, and geographical background</small>
                                        </span>
                                    </span>
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" name="selectedOutputs" value="hermeneutics">
                                    <span class="checkbox-content">
                                        <span class="checkbox-icon">üîç</span>
                                        <span class="checkbox-text">
                                            <strong>Hermeneutics Guide</strong>
                                            <small>Interpretive principles based on genre</small>
                                        </span>
                                    </span>
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" name="selectedOutputs" value="originalLanguages">
                                    <span class="checkbox-content">
                                        <span class="checkbox-icon">üî§</span>
                                        <span class="checkbox-text">
                                            <strong>Original Languages</strong>
                                            <small>Hebrew/Greek word studies and insights</small>
                                        </span>
                                    </span>
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" name="selectedOutputs" value="crossReference">
                                    <span class="checkbox-content">
                                        <span class="checkbox-icon">üîó</span>
                                        <span class="checkbox-text">
                                            <strong>Cross-Reference & Theology</strong>
                                            <small>Connections to broader biblical themes</small>
                                        </span>
                                    </span>
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" name="selectedOutputs" value="application">
                                    <span class="checkbox-content">
                                        <span class="checkbox-icon">üéØ</span>
                                        <span class="checkbox-text">
                                            <strong>Application & Discipleship</strong>
                                            <small>Practical life application guide</small>
                                        </span>
                                    </span>
                                </label>

                                <label class="checkbox-label">
                                    <input type="checkbox" name="selectedOutputs" value="prayer">
                                    <span class="checkbox-content">
                                        <span class="checkbox-icon">üôè</span>
                                        <span class="checkbox-text">
                                            <strong>Prayer & Devotional</strong>
                                            <small>Spiritual formation and prayer content</small>
                                        </span>
                                    </span>
                                </label>
                            </div>

                            <p class="checkbox-note"><em>Note: Your study will always include the core study guide(s) based on your group size selection below.</em></p>
                        </div>

                        <!-- Section 4: Study Vision -->
                        <div class="form-section">
                            <div class="section-title">
                                <span class="section-icon">üí°</span>
                                <h3>Your Study Vision</h3>
                            </div>
                            <p class="section-description">Share your goals and context for this study</p>

                            <div class="form-group">
                                <label for="userThoughts">Study Goals & Context</label>
                                <textarea
                                    id="userThoughts"
                                    name="userThoughts"
                                    rows="8"
                                    placeholder="Share your vision for this study (optional but recommended):&#10;&#10;‚Ä¢ What do you want students to learn and experience?&#10;‚Ä¢ What life transformation are you praying for?&#10;‚Ä¢ Are there specific applications or themes to emphasize?&#10;‚Ä¢ Any unique needs or challenges in your group?&#10;‚Ä¢ Sensitive topics that need special care?&#10;‚Ä¢ Your teaching philosophy or approach?&#10;&#10;The more context you provide, the better we can tailor the curriculum to serve your ministry!"
                                ></textarea>
                                <small>üìù Optional but highly recommended for best results</small>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="groupSize">Group Size</label>
                                    <select id="groupSize" name="groupSize">
                                        <option value="">Select Size (Optional)</option>
                                        <option value="Individual Study">Individual Study</option>
                                        <option value="Small Group (4-8)">Small Group (4-8)</option>
                                        <option value="Medium Group (8-15)">Medium Group (8-15)</option>
                                        <option value="Large Group (15-30)">Large Group (15-30)</option>
                                        <option value="Class/Congregation (30+)">Class/Congregation (30+)</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="teachingContext">Ministry Context</label>
                                    <select id="teachingContext" name="teachingContext">
                                        <option value="">Select Context (Optional)</option>
                                        <option value="Sunday School">Sunday School</option>
                                        <option value="Small Group/Home Group">Small Group/Life Group</option>
                                        <option value="Bible Study">Midweek Bible Study</option>
                                        <option value="Discipleship Group">Discipleship Group</option>
                                        <option value="Youth Group">Youth Ministry</option>
                                        <option value="Personal Study">Personal Study</option>
                                        <option value="Christian School">Christian School</option>
                                        <option value="Homeschool">Homeschool</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div id="formError" class="error-message" style="display: none;"></div>
                        <div id="formSuccess" class="success-message" style="display: none;"></div>

                        <button type="submit" class="btn-primary btn-large" id="generateBtn">
                            Generate Curriculum
                        </button>

                        <p class="form-note" id="overageNote" style="display: none;">
                            ‚ö†Ô∏è You've used your 4 included curricula. This generation will cost $4.99.
                        </p>
                    </form>
                </div>
            </section>

            <!-- Generation History -->
            <section class="history-section">
                <h2>Recent Curricula</h2>
                <div id="historyList" class="history-list">
                    <p class="loading">Loading your history...</p>
                </div>
            </section>

            <!-- Account Management -->
            <section class="account-section">
                <h2>Account Settings</h2>
                <div class="settings-grid">
                    <div class="setting-card">
                        <h3>Subscription</h3>
                        <p>Manage your subscription and billing</p>
                        <button id="manageSubscriptionBtn" class="btn-secondary">Manage Subscription</button>
                    </div>
                    <div class="setting-card">
                        <h3>Email</h3>
                        <p id="accountEmail">Loading...</p>
                        <button id="changeEmailBtn" class="btn-secondary">Change Email</button>
                    </div>
                    <div class="setting-card">
                        <h3>Password</h3>
                        <p>Update your password</p>
                        <button id="changePasswordBtn" class="btn-secondary">Change Password</button>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script src="/premium/js/premium-app.js"></script>
    <script src="/premium/js/dashboard.js"></script>
</body>
</html>
